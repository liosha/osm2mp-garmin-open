
####    Common points

--- nodes
---

##  Special nodes

- condition:
    - only_node
    - barrier = *
  action:
    - action: load_barrier

- condition:
    - only_node
    - or:
        - entrance = main
        - amenity = parking_entrance
  action:
    - action: load_main_entrance        




##  Settlements

- condition:
    - place = city
    - only_node
    - capital = yes
    - or:
        - admin_level = 1|2
        - admin_level != *
  action:
    - action: write_poi
      type: 0x0100
      level_h: 4
      city: yes

- condition:
    - place = city
    - only_node
    - capital = yes
    - admin_level = 3|4
  action:
    - action: write_poi
      type: 0x0200
      level_h: 4
      city: yes

- condition:
    - place = city
    - only_node
    - or:
        - capital != yes
        - and:
            - capital = yes
            - admin_level = *
            - admin_level != 1|2|3|4
  action:
    - action: write_poi
      type: 0x0400
      level_h: 3
      city: yes
    - action: write_poi
      type: 0x0800
      level_l: 4
      level_h: 4

- condition:
    - place = town
    - only_node
    - and:
        - population != 0
        - abandoned != *
  action:
    - action: write_poi
      type: 0x0800
      level_h: 3
      city: yes

- condition:
    - place = village
    - only_node
    - and:
        - population != 0
        - abandoned != *
  action:
    - action: write_poi
      type: 0x0B00
      level_h: 2
      city: yes

- condition:
    - place = hamlet|isolated_dwelling
    - only_node
    - and:
        - population != 0
        - abandoned != *
  action:
    - action: write_poi
      type: 0x0C00
      level_h: 2
      city: yes

- condition:
    - place = town|village|hamlet|isolated_dwelling
    - population = 0
    - abandoned != *
    - only_node
  action:
    - action: write_poi
      type: 0x0D00
      city: yes
      level_h: 1
      name:
        selector: lang
        ru:
          - %label (нежил.)
        en:
          - %label (uninhabit.)

- condition:
    - or:
        - and:
            - place = town|village|hamlet|isolated_dwelling
            - abandoned = *
            - only_node
        - abandoned:place = *
  action:
    - action: write_poi
      type: 0x0D00
      city: yes
      level_h: 1
      name:
        selector: lang
        ru:
          - %label (бывш.)
        en:
          - %label (former)

- condition:
    - place = allotments
    - named
    - only_node
  action:
    - action: write_poi
      type: 0x0C00
      city: yes
      level_h: 1


##  Searchable POI

# Business

# Food & Drink

- condition:
    - or:
        - amenity = restaurant
        - and:
           - amenity = cafe
           - cuisine = *
  action: 
    - action: write_poi
      contacts: yes
      type:
        selector: tag
        tag: cuisine
        _default: 0x2A00
        american: 0x2A01
        asian: 0x2A02
        barbecue: 0x2A03
        chinese: 0x2A04
        cake: 0x2A05
        bakery: 0x2A05
        coffee_shop: 0x2A05
        ice_cream: 0x2A05
        pie: 0x2A05
        international: 0x2A06
        burger: 0x2A07
        kebab: 0x2A07
        sandwich: 0x2A07
        italian: 0x2A08
        pasta: 0x2A08
        mexican: 0x2A09
        spanish: 0x2A09
        pizza: 0x2A0A
        seafood: 0x2A0B
        steak_house: 0x2A0C
        bagel: 0x2A0D
        doughnut: 0x2A0D
        french: 0x2A0F
        german: 0x2A10
        british: 0x2A11
      name:
        selector: tag
        tag: amenity
        restaurant:
          selector: lang
          ru:
            - %label
            - Ресторан
          en:
            - %label
            - Restaurant
        cafe:
          selector: lang
          ru:
            - %label
            - Кафе
          en:
            - %label
            - Cafe

- condition:
    - or:
        - shop = ice_cream
        - amenity = bakery|ice_cream
        - and:
            - shop = bakery|confectionery|deli
            - name = ( .* [К,к]улинария .* )
  action:
    - action: write_poi
      type: 0x2A05
      contacts: yes

- condition:
    - amenity = fast_food|food_court
    - name = !( .* [С,с]толовая .* )
  action:
    - action: write_poi
      type: 0x2A07
      contacts: yes
      name:
        selector: lang
        ru:
          - %label
          - фаст фуд
        en:
          - %label
          - fast food


- condition:
    - amenity = cafe
    - cuisine != *
    - name = !( .* [С,с]толовая .* )
  action: 
    - action: write_poi
      contacts: yes
      type: 0x2A0E
      name:
        selector: lang
        ru:
          - %label
          - кафе
        en:
          - %label
          - cafe

- condition:
    - amenity = fast_food|food_court|cafe
    - cuisine != *
    - name = ( .* [С,с]толовая .* )
  action:
    - action: write_poi
      type: 0x2A0E
      contacts: yes
      name:
        selector: lang
        ru:
          - %label
          - столовая
        en:
          - %label
          - eatery

# Lodging


- condition:
    - tourism = hotel|motel
  action:
    - action: write_poi
      type: 0x2B01
      contacts: yes
      name:
        selector: tag
        tag: tourism
        hotel:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* \b гостиница .* )|(?ix: .* \b отель .* )|(?ix: .* \b hotel .* )
            then: %label
            else:
              - %label (гостиница)
              - Гостиница
          en:
            - %label (hotel)
            - Hotel
        motel:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* \b мотель .* )|(?ix: .* \b motel .* )
            then: %label
            else:
              - %label (мотель)
              - Мотель
          en:
            - %label (motel)
            - Motel

- condition:
    - tourism = guest_house|hostel|chalet
  action:
    - action: write_poi
      type: 0x2B02
      contacts: yes
      name:
        selector: tag
        tag: tourism
        _default: %label
        hostel:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* \b хостел .* )|(?ix: .* \b hostel .* )
            then: %label
            else:
              - %label (хостел)
              - Хостел
          en:
            - %label (hostel)
            - Hostel

- condition:
    - tourism = alpine_hut|camp_site|caravan_site
  action:
    - action: write_poi
      type: 0x2B03
      contacts: yes
      level_h: 1

- condition:
    - or:
        - tourism = resort
        - leisure = resort|summer_camp
  action:
    - action: write_poi
      type: 0x2B04
      contacts: yes
      name:
        selector: lang
        ru:
          - %label
          - курорт
        en:
          - %label
          - resort



# Attractions


- condition:
    - or:
        - leisure = theme_park|water_park
        - tourism = theme_park
  action:
    - action: write_poi
      type: 0x2C01
      contacts: yes
      name:
        selector: lang
        ru:
          - %label
          - Парк развлечений
        en:
          - %label
          - Theme park

- condition:
    - or:
        - historic = castle|fort|manor
        - and:
            - historic = building|ruins|tomb
            - named
  action:
    - action: write_poi
      type: 0x2C02
      contacts: yes

- condition:
    - historic = archaeological_site
  action:
    - action: write_poi
      type: 0x2C02
      contacts: yes
      name:
      selector: lang
      ru:
        - %label
        - археологические раскопки
      en:
        - %label
        - archaeological site

- condition:
    - historic = battlefield
  action:
    - action: write_poi
      type: 0x2C02
      contacts: yes
      name:
      selector: lang
      ru:
        - %label
        - поле битвы
      en:
        - %label
        - battlefield

- condition:
    - historic = ship
  action:
    - action: write_poi
      type: 0x2C02
      contacts: yes
      name:
      selector: lang
      ru:
        - %label
        - корабль
      en:
        - %label
        - ship

- condition:
    - geological = palaeontological_site
  action:
    - action: write_poi
      type: 0x2C02
      contacts: yes
      name:
      selector: lang
      ru:
        - %label
        - палеонтологические раскопки
      en:
        - %label
        - palaeontological site

- condition:
    - tourism = gallery
  action:
    - action: write_poi
      type: 0x2C02
      contacts: yes
      name:
      selector: lang
      ru:
        - %label
        - галерея живописи
      en:
        - %label
        - gallery

- condition:
    - tourism = museum
  action:
    - action: write_poi
      type: 0x2C02
      contacts: yes
      selector: lang
      ru:
        - %label
        - музей
      en:
        - %label
        - museum

- condition:
    - historic = aircraft
  action:
    - action: write_poi
      type: 0x2C04
      contacts: yes
      name:
      selector: lang
      ru:
        - %label
        - самолет
      en:
        - %label
        - aircraft

- condition:
    - historic = cannon
  action:
    - action: write_poi
      type: 0x2C04
      contacts: yes
      name:
      selector: lang
      ru:
        - %label
        - пушка
      en:
        - %label
        - cannon

- condition:
    - historic = memorial|monument
  action:
    - action: write_poi
      type: 0x2C04
      contacts: yes
      name:
      selector: lang
      ru:
        - %label
        - памятник
      en:
        - %label
        - memorial/monument

- condition:
    - historic = tank
  action:
    - action: write_poi
      type: 0x2C04
      contacts: yes
      name:
      selector: lang
      ru:
        - %label
        - танк
      en:
        - %label
        - tank (weapon)

- condition:
    - historic = tractor
  action:
    - action: write_poi
      type: 0x2C04
      contacts: yes
      name:
      selector: lang
      ru:
        - %label
        - трактор-памятник
      en:
        - %label
        - tractor

- condition:
    - historic = vehicle
  action:
    - action: write_poi
      type: 0x2C04
      contacts: yes
      name:
      selector: lang
      ru:
        - %label
        - автомобиль-памятник
      en:
        - %label
        - vehicle

- condition:
    - tourism = viewpoint
  action:
    - action: write_poi
      type: 0x2C04
      contacts: yes
      name:
      selector: lang
      ru:
        - %label
        - видовая точка
      en:
        - %label
        - viewpoint

- condition:
    - tourism = attraction|artwork
  action:
    - action: write_poi
      type: 0x2C04
      contacts: yes

- condition:
    - leisure = garden|park
    - named
  action:
    - action: write_poi
      type: 0x2C06
      contacts: yes

- condition:
    - tourism = zoo|aquarium
  action:
    - action: write_poi
      type: 0x2C07
      contacts: yes
      name:
        selector: lang
        ru:
          - %label
          - Зоопарк
        en:
          - %label
          - Zoo

- condition:
    - leisure = stadium
  action:
    - action: write_poi
      type: 0x2C08
      contacts: yes
      name:
        selector: lang
        ru:
          - %label
          - Стадион
        en:
          - %label
          - Stadium

# Recreation

- condition:
    - or:
        - leisure = golf_course|miniature_golf
        - sport = golf
  action:
    - action: write_poi
      contacts: yes
      type: 0x2D05
      name:
        selector: lang
        ru:
          - %label
          - Гольф
        en:
          - %label
          - Golf

- condition:
    - sport = skiing
  action:
    - action: write_poi
      type: 0x2D06
      contacts: yes
      name:
        selector: lang
        ru:
          - %label
          - Лыжный спорт
        en:
          - %label
          - Skiing

- condition:
    - sport = bowls
  action:
    - action: write_poi
      type: 0x2D07
      contacts: yes
      name:
        selector: lang
        ru:
          - %label
          - Боулинг
        en:
          - %label
          - Bowling

- condition:
    - or:
        - leisure = ice_rink
        - sport = skating|hockey
  action:
    - action: write_poi
      type: 0x2D08
      contacts: yes
      name:
        selector: if
        condition: seasonal = yes
        then:
          selector: lang
          ru:
            - %label (сезонный)
            - каток (сезонный)
          en:
            - %label (seasonal)
            - seasonal
        else: %label


- condition:
    - sport = swimming
  action:
    - action: write_poi
      type: 0x2D09
      contacts: yes
      name:
        selector: lang
        ru:
          - %label
          - Бассейн
        en:
          - %label
          - Swimming

- condition:
    - or:
        - and:
            - leisure = pitch
            - named
        - leisure = sports_centre
    - sport != golf|skiing|bowls|skating|swimming
  action:
    - action: write_poi
      type: 0x2D0A
      contacts: yes
      name:
        selector: lang
        ru:
          - %label
          - Спортивный объект
        en:
          - %label
          - Sports

# Entertainment

- condition:
    - amenity = theatre
  action:
    - action: write_poi
      type: 0x2D01
      contacts: yes
      name:
        selector: lang
        ru:
          - %label
          - Театр
        en:
          - %label
          - Theatre

- condition:
    - amenity = bar|biergarten|nightclub|pub
  action:
    - action: write_poi
      type: 0x2D02
      contacts: yes
      name:
        selector: lang
        ru:
          - %label
          - Бар/ночной клуб
        en:
          - %label
          - Bar/nightclub

- condition:
    - amenity = cinema
  action:
    - action: write_poi
      type: 0x2D03
      contacts: yes
      name:
        selector: lang
        ru:
          - %label
          - Кинотеатр
        en:
          - %label
          - Cinema


- condition:
    - amenity = casino
  action:
    - action: write_poi
      type: 0x2D04
      contacts: yes

# Services

- condition:
    - shop = beauty|dry_cleaning|hairdresser|laundry|tattoo
  action:
    - action: write_poi
      type: 0x2E00
      contacts: yes
      name:
        selector: tag
        tag: shop
        _default: %label
        beauty:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* \b салон \s+ красоты .* )
            then: %label
            else:
              - %label (салон красоты)
              - Салон красоты
          en:
            - %label (beauty)
            - beauty shop
        dry_cleaning:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* \b химчистка .* )
            then: %label
            else:
              - %label (химчистка)
              - Химчистка
          en:
            - %label (dry cleaning)
            - dry cleaning
        hairdresser:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* \b парикмахерская .* )
            then: %label
            else:
              - %label (парикмахерская)
              - Парикмахерская
          en:
            - %label (hairdresser)
            - hairdresser
        laundry:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* \b прачечная .* )
            then: %label
            else:
              - %label (прачечная)
              - Прачечная
          en:
            - %label (laundry)
            - laundry
        tattoo:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* \b тату .* )
            then: %label
            else:
              - %label (тату-салон)
              - Тату-салон
          en:
            - %label (tattoo)


# Shopping


- condition:
    - shop = department_store
  action:
    - action: write_poi
      type: 0x2E01
      contacts: yes
      name:
        selector: lang
        ru:
          - %label
          - Универсальный магазин
        en:
          - %label
          - Department store

- condition:
    - shop = butcher|dairy|grocery|greengrocer|seafood
  action:
    - action: write_poi
      type: 0x2E02
      contacts: yes
      name:
        selector: tag
        tag: shop
        grocery:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* \b продукт \B .* )|(?ix: .* бакале .* )
            then: %label
            else:
              - %label (бакалея)
              - Бакалея
          en:
            - %label (grocery)
            - Grocery
        butcher:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* \b мяс \B .* )|(?ix: .* колбас .* )
            then: %label
            else:
              - %label (мясо)
              - Мясная лавка
          en:
            - %label (butchery)
            - Butcher shop
        dairy:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* молоч .* )|(?ix: .* молок .* )
            then: %label
            else:
              - %label (молоко)
              - Молочные продукты
          en:
            - %label (dairy)
            - Dairy store
        greengrocer:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* фрукт .* )|(?ix: .* овощ .* )
            then: %label
            else:
              - %label (фрукты-овощи)
              - Фрукты-овощи
          en:
            - %label (greengrocer)
            - Greengrocer
        seafood:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* \b мор \B .* )
            then: %label
            else:
              - %label (морепродукты)
              - Морепродукты
          en:
            - %label (seafood)
            - Seafood

- condition:
    - shop = bakery|confectionery|deli
    - name != ( .* [К,к]улинария .* )
  action:
    - action: write_poi
      type: 0x2E02
      contacts: yes
      name:
        selector: tag
        tag: shop
        bakery:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* хлеб .* )|(?ix: .* булоч .* )
            then: %label
            else:
              - %label (булочная)
              - Булочная
          en:
            - %label (bakery)
            - Bakery
        confectionery:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* кондитер .* )
            then: %label
            else:
              - %label (кондитерская)
              - Кондитерская
          en:
            - %label (confectionery)
            - Сonfectionery
        deli:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* деликатес .* )
            then: %label
            else:
              - %label (деликатесы)
              - Деликатесы
          en:
            - %label (deli)
            - Deli

- condition:
    - shop = alcohol|beverages|coffee|tea|wine
  action:
    - action: write_poi
      type: 0x2E02
      contacts: yes
      name:
        selector: tag
        tag: shop
        _default: %label
        alcohol:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* \b вин \B .* )|(?ix: .* \b алко \B .* )|(?ix: .* \b спирт \B .* )
            then: %label
            else:
              - %label (алкоголь)
              - Вино-водочный
          en:
            - %label (alcohol)
            - Alcohol shop
        wine:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* \b вин \B .* )
            then: %label
            else:
              - %label (вино)
              - Винный
          en:
            - %label (wine)
            - Wine
        beverages:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* \b напитки .* )
            then: %label
            else:
              - %label (напитки)
              - Напитки
          en:
            - %label (beverages)
            - Beverages

- condition:
    - shop = general|convenience|supermarket
  action:
    - action: write_poi
      type: 0x2E03
      contacts: yes
      name:
        selector: lang
        ru:
          selector: tag
          tag: opening_hours
          _default:
            - %label
            - Магазин
          24/7:
            - %label (24/7)
            - Магазин (24/7)
        en:
          selector: tag
          tag: opening_hours
          24/7:
            - %label (24/7)
            - Store (24/7)

- condition:
    - shop = mall|hypermarket
  action:
    - action: write_poi
      type: 0x2E04
      contacts: yes
      name:
        selector: lang
        ru:
          - %label
          - Торговый центр
        en:
          - %label
          - Hypermarket

- condition:
    - or:
        - amenity = pharmacy
        - shop = pharmacy
  action:
    - action: write_poi
      type: 0x2E05
      contacts: yes
      name:
        selector: lang
        ru:
          selector: tag
          tag: opening_hours
          _default:
            - %label (24/7)
            - Аптека
          24/7:
            - %label (24/7)
            - Аптека (24/7)
        en:
          selector: tag
          tag: opening_hours
          _default: %label
          24/7:
            - %label (24/7)
            - Pharmacy (24/7)

# 0x2E08 - Apparel

- condition:
    - shop = boutique|clothes|fashion|shoes
  action:
    - action: write_poi
      contacts: yes
      type: 0x2E07
      name:
        selector: tag
        tag: shop
        _default:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* \b одеж .* )
            then: %label
            else:
              - %label (одежда)
              - Одежда
          en:
            - %label (clothes)
            - Clothes
        boutique:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* \b бутик .* )
            then: %label
            else:
              - %label (бутик)
              - Бутик
          en:
            - %label (boutique)
            - Boutique
        shoes:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* обув \B .* )
            then: %label
            else:
              - %label (обувь)
              - Обувной
          en:
            - %label (shoes)
            - Shoes

# 0x2E08 - House and Garden

- condition:
    - shop = doityourself|electrotools|tools|hardware
  action:
    - action: write_poi
      contacts: yes
      type: 0x2E09
      name:
        selector: tag
        tag: shop
        _default:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* инструмент .* )
            then: %label
            else:
              - %label (инструмент)
              - Инструмент
          en:
            - %label (tools)
            - Tools
        hardware:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* инструм .* )|(?ix: .* креп \w ж .* )|(?ix: .* скоб \B .* )
            then: %label
            else:
              - %label (скобяные)
              - Скобяные товары
          en:
            - %label (hardware)
            - Hardware
        doityourself:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* инструм .* )|(?ix: .* стро \B .* материал .* )
            then: %label
            else:
              - %label (стройматериалы)
              - Стройматериалы и инструмент
          en:
            - %label (do it yourself)
            - Do it yourself

- condition:
    - shop = electrical|electrogoods|garden_centre|glaziery
  action:
    - action: write_poi
      contacts: yes
      type: 0x2E09
      name:
        selector: tag
        tag: shop
        _default:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* электр .* )
            then: %label
            else:
              - %label (электротовары)
              - Электротовары
          en:
            - %label (electrical)
            - Electrical goods
        garden_centre:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* \b сад .* )
            then: %label
            else:
              - %label (для садоводов)
              - Товары для садоводов
          en:
            - %label (garden centre)
            - Garden centre
        glaziery:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* окна .* )|(?ix: .* ст \w к \B .* )
            then: %label
            else:
              - %label (окна)
              - Окна и стёкла
          en:
            - %label (glaziery)
            - Glaziery

# 0x2E09 - Home Furnishings

- condition:
    - shop = appliances|houseware|electronics|tableware
  action: 
    - action: write_poi
      contacts: yes
      type: 0x2E09
      name:
        selector: tag
        tag: shop
        _default: %label
        electronics:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* электрон .* )|(?ix: .* радио .* )
            then: %label
            else:
              - %label (электроника)
              - Бытовая электроника
          en:
            - %label (electronics)
            - Electronics
        tableware:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* посуд \B .* )
            then: %label
            else:
              - %label (посуда)
              - Посуда
          en:
            - %label (dishes)
            - Tableware

- condition:
    - shop = bathroom_furnishing|bed|furniture|kitchen
  action: 
    - action: write_poi
      contacts: yes
      type: 0x2E09
      name:
        selector: tag
        tag: shop
        _default:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* ванн \B .* )
            then: %label
            else:
              - %label (ванные)
              - Оборудование для ванных
          en:
            - %label (bathroom)
            - Bathroom furnishing
        bed:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* матра \B .* )|(?ix: .* спальн \B .* )
            then: %label
            else:
              - %label (спальни)
              - Спальни
          en:
            - %label (bedding)
            - Вedding products
        furniture:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* мебел \B .* )
            then: %label
            else:
              - %label (мебель)
              - Мебель
          en:
            - %label (furniture)
            - Furniture
        kitchen:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* кухн \B .* )|(?ix: .* кухон \B .* )
            then: %label
            else:
              - %label (кухни)
              - Кухонная мебель
          en:
            - %label (kitchen)
            - Kitchen shop

- condition:
    - shop = curtain|interior_decoration|carpet
  action: 
    - action: write_poi
      contacts: yes
      type: 0x2E09
      name:
        selector: tag
        tag: shop
        _default:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* штор .* )
            then: %label
            else:
              - %label (шторы)
              - Шторы
          en:
            - %label (curtains)
            - Curtains
        interior_decoration:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* интерьер .* )|(?ix: .* декор .* )
            then: %label
            else:
              - %label (декор)
              - Декор интерьера
          en:
            - %label (interior)
            - Interior decoration
        carpet:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* ковр .* )
            then: %label
            else:
              - %label (ковры)
              - Ковры
          en:
            - %label (carpets)
            - Carpet store

# 0x2E0A - Speciality Retail

- condition:
    - shop = bicycle|motorcycle|sports
  action: 
    - action: write_poi
      contacts: yes
      type: 0x2E0A
      name:
        selector: tag
        tag: shop
        _default:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* \b вело .* )
            then: %label
            else:
              - %label (велосипеды)
              - Велосипеды
          en:
            - %label (bicycle)
            - Bicycle
        motorcycle:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* мото .* )
            then: %label
            else:
              - %label (мотоциклы)
              - Мотоциклы
          en:
              - %label (motorcycles)
              - Motorcycles
        sports:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* спорт .* )
            then: %label
            else:
              - %label (спортивный)
              - Спортивный магазин
          en:
            - %label (sporting goods)
            - Sporting goods

- condition:
    - shop = chemist|cosmetics|optician
  action: 
    - action: write_poi
      contacts: yes
      type: 0x2E0A
      name:
        selector: tag
        tag: shop
        _default:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* \b бытовая \s+ химия .* )
            then: %label
            else:
              - %label (бытовая химия)
              - Бытовая химия
          en:
            - %label (chemist)
            - Chemist
        cosmetics:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* \b космети \B .* )|(?ix: .* \b парфюм .* )
            then: %label
            else:
              - %label (косметика и парфюмерия)
              - Косметика и парфюмерия
          en:
            - %label (cosmetics)
            - Cosmetics
        optician:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* оптик .* )
            then: %label
            else:
              - %label (оптика)
              - Оптика
          en:
            - %label (optician)
            - Optician

- condition:
    - shop = books|stationery|fabric|sewing
  action: 
    - action: write_poi
      contacts: yes
      type: 0x2E0A
      name:
        selector: tag
        tag: shop
        _default:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* книг  .* )|(?ix: .* книж .* )
            then: %label
            else:
              - %label (книги)
              - Книжный
          en:
            - %label (books)
            - Bookstore
        stationery:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* канц \B .* )|(?ix: .* бумага .* )
            then: %label
            else:
              - %label (канцтовары)
              - Канцтовары
          en:
            - %label (stationery)
            - Stationery
        fabric:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* ткан \B .* )
            then: %label
            else:
              - %label (ткани)
              - Ткани
          en:
            - %label (drapery)
        sewing:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* шить \B .* )|(?ix: .* рукодел .* )
            then: %label
            else:
              - %label (шитьё)
              - Рукоделие и шитьё
          en:
            - %label (drapery)

- condition:
    - shop = baby_goods|kids|toys
  action: 
    - action: write_poi
      contacts: yes
      type: 0x2E0A
      name:
        selector: tag
        tag: shop
        _default:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* дет \B .* )
            then: %label
            else:
              - %label (детские товары)
              - Товары для детей
          en:
            - %label (baby goods)
            - Baby goods
        toys:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* игруш \B .* )
            then: %label
            else:
              - %label (игрушки)
              - Игрушки
          en:
            - %label (toys)
            - Toy store

- condition:
    - shop = fishing|hunting|outdoor
  action: 
    - action: write_poi
      contacts: yes
      type: 0x2E0A
      name:
        selector: tag
        tag: shop
        _default:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* рыболов .* )
            then: %label
            else:
              - %label (рыболовный)
              - Рыболовный
          en:
            - %label (fishing shop)
            - Fishing shop
        hunting:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* охот \B .* )
            then: %label
            else:
              - %label (охота)
              - Магазин охотника
          en:
            - %label (hunting store)
            - Hunting store
        outdoor:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* турист .* )
            then: %label
            else:
              - %label (туризм)
              - Снаряжение для туризма
          en:
            - %label (outdoor store)
            - Outdoor store

- condition:
    - shop = florist|gift|jewerly
  action: 
    - action: write_poi
      contacts: yes
      type: 0x2E0A
      name:
        selector: tag
        tag: shop
        _default:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* цвет .* )
            then: %label
            else:
              - %label (цветы)
              - Цветы
          en:
            - %label (florist)
            - Florist
        gift:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* подар \B .* )
            then: %label
            else:
              - %label (подарки)
              - Подарки
          en:
            - %label (gift shop)
            - Gift shop
        jewerly:
          selector: lang
          ru:
            selector: if
            condition: name = (?ix: .* ювелир .* )
            then: %label
            else:
              - %label (ювелирный)
              - Ювелирный
          en:
            - %label (jewerly)
            - Jewerly

# all other shops

- condition:
    - shop = *
    - shop != bakery|ice_cream|department_store|pharmacy
    - shop != beauty|dry_cleaning|hairdresser|laundry|tattoo
    - shop != butcher|dairy|grocery|greengrocer
    - shop != confectionery|deli|seafood
    - shop != alcohol|beverages|coffee|tea|wine
    - shop != general|convenience|supermarket|mall|hypermarket
    - shop != boutique|clothes|fashion|shoes
    - shop != doityourself|electrotools|tools|hardware
    - shop != electrical|electrogoods|garden_centre|glaziery
    - shop != appliances|houseware|electronics|tableware
    - shop != bathroom_furnishing|bed|furniture|kitchen
    - shop != curtain|interior_decoration|carpet|sewing
    - shop != bicycle|motorcycle|sports
    - shop != chemist|cosmetics|optician|stationery|books
    - shop != baby_goods|kids|fabric|sewing|toys
    - shop != fishing|hunting|outdoor
    - shop != florist|gift|jewerly
    - shop != car|car_repair|car_parts|tyres
    - shop != computer|ticket
  action:
    - action: write_poi
      type: 0x2E0A
      contacts: yes

- condition:
        - shop = ticket
        - and:
            - tickets:air != yes
            - tickets:aerialway != yes
            - tickets:bus != yes
            - tickets:public_transport != yes
            - tickets:railway != yes
            - tickets:subway != yes
            - tickets:tram != yes
            - tickets:trolleybus != yes
            - tickets != air|airway|aerialway|bus|psv|public_transport|
            - tickets != railway|subway|tram|trolleybus
  action:
    - action: write_poi
      type: 0x2E0A
      contacts: yes

- condition:
    - shop = computer
  action:
    - action: write_poi
      type: 0x2E0B
      contacts: yes

# Services

- condition:
    - amenity = training|driving_school
  action:
    - action: write_poi
      type: 0x2F00
      contacts: yes

# Fuel

- condition:
    - amenity = fuel
  action:
    - action: write_poi
      type: 0x2F01
      contacts: yes
      name:
          selector: lang
          ru:
            - %label
            - %brand
            - %operator
            - АЗС
          en:
            - %label
            - filling station

# Auto Services

- condition:
    - amenity = car_rental|car_sharing
  action:
    - action: write_poi
      type: 0x2F02
      contacts: yes
      name:
          selector: lang
          ru:
            - %label
            - Прокат/обмен авто
          en:
            - %label
            - car rental/sharing

- condition:
    - or:
        - shop = car_repair
        - and:
            - shop = car
            - service = repair
  action:
    - action: write_poi
      type: 0x2F03
      contacts: yes
      name:
          selector: lang
          ru:
            - %label
            - Ремонт авто
          en:
            - %label
            - Car repair

- condition:
    - or:
        - shop = tyres
        - and:
            - shop = car
            - service = tyres
  action:
    - action: write_poi
      type: 0x2F03
      contacts: yes
      name:
          selector: lang
          ru:
            - %label
            - Шиномонтаж
          en:
            - %label
            - Tyres

- condition:
    - amenity = vehicle_inspection
  action:
    - action: write_poi
      type: 0x2F03
      contacts: yes
      name:
        selector: lang
        ru:
          selector: if
          condition: name = (?ix: .* техосмотр .* )|(?ix: .* гто .* )
          then: %label
          else:
            - %label (техосмотр)
            - Пункт техосмотра
        en:
          - %label (inspection)
          - Vehicle inspection

- condition:
    - or:
        - shop = car_parts
        - and:
            - shop = car
            - or:
                - service = dealer|parts
                - service != *
  action:
    - action: write_poi
      type: 0x2F07
      contacts: yes
      name:
          selector: lang
          ru:
            - %label
            - Автозапчасти
          en:
            - %label
            - Car parts

- condition:
    - or:
        - and:
            - amenity = parking_entrance
            - named
        - amenity = parking
    - parking:condition != residents
    - parking:primary_usage != residents
    - access != no|private
    - psv != yes
    - parking != garages|garage_boxes
  action:
    - action: write_poi
      type: 0x2F0B
      contacts: yes
      name:
          selector: lang
          ru:
            - %label
            - Парковка
          en:
            - %label
            - Parking

- condition:
    - amenity = car_wash
  action:
    - action: write_poi
      type: 0x2F0E
      contacts: yes
      name:
          selector: lang
          ru:
            - %label
            - Автомойка
          en:
            - %label
            - Car wash

# Transportation

- condition:
    - place = airport
    - or:
        - named
        - only_node
  action:
    - action: write_poi
      type: 0x2F04
      level_h: 2
      contacts: yes

- condition:
    - aeroway = aerodrome
    - place != airport
    - or:
        - named
        - only_node
  action:
    - action: write_poi
      type: 0x2F04
      level_h: 1
      contacts: yes

- condition:
    - aeroway = terminal
  action:
    - action: write_poi
      type: 0x2F04
      contacts: yes

- condition:
    - or:
        - amenity = bus_station|bus_stop
        - highway = bus_station|bus_stop
  action:
    - action: write_poi
      type: 0x2F08
      transport: yes
      contacts: yes

- condition:
    - railway = tram_stop
  action:
    - action: write_poi
      type: 0x2F08
      contacts: yes

# id:   railway_station
- condition:
    - or:
        - railway = halt|station
        - building = train_station
    - station != subway
  action:
    - action: write_poi
      type: 0x2F17
      contacts: yes

# id:   subway_station
- condition:
    - railway = subway_entrance
  action:
    - action: write_poi
      type: 0x2F17
      contacts: yes

# id:   aerialway_station
- condition:
    - aerialway = station
  action:
    - action: write_poi
      type: 0x2F17
      contacts: yes

# Travel tickets
- condition: 
    - shop = ticket
    - or:
        - tickets:air = yes
        - tickets:aerialway = yes
        - tickets:bus = yes
        - tickets:public_transport = yes
        - tickets:railway = yes
        - tickets:subway = yes
        - tickets:tram = yes
        - tickets:trolleybus = yes
        - tickets = air|airway|aerialway|bus|psv|public_transport|
        - tickets = railway|subway|tram|trolleybus
  action:
    - action: write_poi
      type: 0x2F17
      contacts: yes
      name:
        selector: lang
        ru:
          selector: if
          condition: name = (?ix: .* билет .* )|(?ix: .* касс .* )
          then: %label
          else:
            - %label (билетная касса)
            - Проездные билеты
        en:
          - %label (travel tickets)
          - Travel tickets


# Community

- condition:
    - amenity = library
  action:
    - action: write_poi
      type: 0x2C03
      contacts: yes
      name:
        selector: lang
        ru:
          - %label
          - Библиотека
        en:
          - %label
          - Library

- condition:
    - amenity = college|kindergarten|school|university
    - or:
        - and:
            - building = *
            - building != no
        - named
        - only_node
  action:
    - action: write_poi
      type: 0x2C05
      contacts: yes
      name:
        selector: lang
        en: %label
        ru:
          selector: tag
          tag: amenity
          _default: %label
          kindergarten:
            selector: if
            condition: name = (?ix: .* \b дет \B .* сад .* )
            then: %label
            else:
              - %label (детсад)
              - Детсад

- condition:
    - amenity = place_of_worship
    - religion != christian|muslim|jewish
  action:
    - action: write_poi
      type: 0x2C0F
      contacts: yes

- condition:
    - amenity = place_of_worship
    - religion = christian
  action:
    - action: write_poi
      type: 0x2C0E
      contacts: yes

- condition:
    - amenity = place_of_worship
    - religion = muslim
  action:
    - action: write_poi
      type: 0x2C0D
      contacts: yes

- condition:
    - amenity = place_of_worship
    - religion = jewish
  action:
    - action: write_poi
      type: 0x2C10
      contacts: yes

- condition:
    - amenity = police
  action:
    - action: write_poi
      type: 0x3001
      contacts: yes
      name:
        selector: lang
        ru:
          - %label
          - Полиция
        en:
          - %label
          - Police

- condition:
    - or:
        - amenity = townhall
        - office = government
  action:
    - action: write_poi
      type: 0x3003
      contacts: yes

- condition:
    - amenity = courthouse
  action:
    - action: write_poi
      type: 0x3004
      contacts: yes
      name:
        selector: lang
        ru:
          - %label
          - Суд
        en:
          - %label
          - Courthouse

- condition:
    - amenity = community_centre
  action:
    - action: write_poi
      type: 0x3005
      contacts: yes
      name:
        selector: lang
        ru:
          - %label
          - Общественный центр
        en:
          - %label
          - Community centre

- condition:
    - barrier = border_control
  action:
    - action: write_poi
      type: 0x3006
      contacts: yes

- condition:
    - or:
        - amenity = embassy|public_building|register_office|public_service
        - office = administrative
  action:
    - action: write_poi
      type: 0x3007
      contacts: yes

- condition:
    - amenity = fire_station
  action:
    - action: write_poi
      type: 0x3008
      contacts: yes
      name:
        selector: lang
        ru:
          - %label
          - Пожарная часть
        en:
          - %label
          - fire station

- condition:
    - amenity = post_office
  action:
    - action: write_poi
      type: 0x2F05
      contacts: yes
      name:
        selector: lang
        ru:
          - %label
          - Почта
        en:
          - %label
          - Post office

- condition:
    - amenity = bank
    - atm != yes|1|true
    - amenity != atm
  action:
    - action: write_poi
      type: 0x2F06
      contacts: yes
      name:
        selector: lang
        ru:
          - %label
          - Банк
        en:
          - %label
          - Bank

- condition:
    - amenity = bank
    - or:
        - atm = yes|1|true
        - amenity = atm
  action:
    - action: write_poi
      type: 0x2F06
      contacts: yes
      name:
        selector: lang
        ru:
          - %label (+банкомат)
          - Банк+банкомат
        en:
          - %label (+atm)
          - Bank+atm

- condition:
    - amenity = atm
    - amenity != bank
  action:
    - action: write_poi
      type: 0x2F06
      contacts: yes
      name:
        selector: lang
        ru:
          - %label (банкомат)
          - %operator (банкомат)
          - Банкомат
        en:
          - %label (ATM)
          - %operator (ATM)
          - ATM
      name:
        - %label
        - %operator


- condition:
    - amenity = bureau_de_change
  action:
    - action: write_poi
      type: 0x2F06
      contacts: yes
      name:
        selector: lang
        ru:
          - %label (обменник)
          - Обмен валюты
        en:
          - %label (exch)
          - Currency exchange


# Hospital

- condition:
    - amenity = clinic|dentist|doctors|hospital
    - or:
        - and:
            - building = *
            - building != no
        - named
        - only_node
  action:
    - action: write_poi
      type: 0x3002
      contacts: yes
      name:
        selector: tag
        tag: amenity
        _default:
          selector: lang
          ru:
            - %label
            - Больница
          en:
            - %label
            - Hospital
        dentist:
          selector: lang
          ru:
            - %label
            - Стоматология
          en:
            - %label
            - Dentist
        doctors:
          selector: lang
          ru:
            - %label
            - Врач/медпункт
          en:
            - %label
            - Doctors

- condition:
    - healthcare = centre|clinic|dentist|doctor|hospital
    - or:
        - and:
            - building = *
            - building != no
        - named
        - only_node
  action:
    - action: write_poi
      type: 0x3002
      contacts: yes
      name:
        selector: tag
        tag: healthcare
        _default:
          selector: lang
          ru:
            - %label
            - Больница
          en:
            - %label
            - Hospital
        dentist:
          selector: lang
          ru:
            - %label
            - Стоматология
          en:
            - %label
            - Dentist
        doctor:
          selector: lang
          ru:
            - %label
            - Врач/медпункт
          en:
            - %label
            - Doctor

##  Labels

- condition:
    - type = boundary|multipolygon
    - boundary = administrative
    - admin_level = 4
  action:
    - action: write_poi
      type: 0x1500
      level_l: 4
      level_h: 4

- condition:
    - type = boundary|multipolygon
    - boundary = administrative
    - admin_level = 6
  action:
    - action: write_poi
      level_l: 3
      level_h: 3
      type:
        selector: if
        condition: name != (?ix: .* \b городской \s+ округ .* )|(?ix: .* \b го \s .* )|(?ix: .* \b зато \s .* )
        then: 0x1500

- condition:
    - place = suburb|neighbourhood
  action:
    - action: write_poi
      type: 0x2800
      level_h: 1

- condition:
    - place = locality
    - abandoned:place != *
    - only_node
  action:
    - action: write_poi
      type: 0x2800
      level_h: 1




##  The rest

- condition:
    - amenity = shelter
  action:
    - action: write_poi
      type: 0x6100

- condition:
    - or:
        - landuse = residential
        - building = residential|detached|house|hut
        - tourism = wilderness_hut
    - only_node
    - ~inside_city
  action:
    - action: write_poi
      type: 0x6402
      level_h: 1

- condition:
    - highway = motorway_junction
    - only_node
  action:
    - action: write_poi
      type: 0x6417
      level_h: 1
      name: <%ref>


